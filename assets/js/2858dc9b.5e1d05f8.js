"use strict";(self.webpackChunksrc_dev=self.webpackChunksrc_dev||[]).push([[253],{6042:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>l,metadata:()=>t,toc:()=>c});var i=s(5893),r=s(1151);const l={sidebar_position:2,title:"JWT(JSON Web Token)\u4ecb\u7d39"},d=void 0,t={id:"json-web-tokens",title:"JWT(JSON Web Token)\u4ecb\u7d39",description:"\u4ec0\u9ebc\u662f JSON Web Token?",source:"@site/docs/json-web-tokens.md",sourceDirName:".",slug:"/json-web-tokens",permalink:"/src.dev/json-web-tokens",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"JWT(JSON Web Token)\u4ecb\u7d39"},sidebar:"tutorialSidebar",previous:{title:"Coroutines Basics",permalink:"/src.dev/kotlin/coroutines/coroutines-basic"}},o={},c=[{value:"\u4ec0\u9ebc\u662f JSON Web Token?",id:"\u4ec0\u9ebc\u662f-json-web-token",level:2},{value:"\u4f60\u5728\u4f55\u6642\u9700\u8981\u4f7f\u7528 JWT?",id:"\u4f60\u5728\u4f55\u6642\u9700\u8981\u4f7f\u7528-jwt",level:2},{value:"JWT \u7684\u7d50\u69cb",id:"jwt-\u7684\u7d50\u69cb",level:2},{value:"\u6a19\u982d Header",id:"\u6a19\u982d-header",level:3},{value:"\u8ca0\u8f09 Payload",id:"\u8ca0\u8f09-payload",level:3},{value:"\u7c3d\u7ae0 Signature",id:"\u7c3d\u7ae0-signature",level:3},{value:"\u7d9c\u5408\u9019\u4e9b\u5143\u7d20",id:"\u7d9c\u5408\u9019\u4e9b\u5143\u7d20",level:3},{value:"JSON Web Tokens \u7684\u904b\u4f5c\u65b9\u5f0f\u662f\u4ec0\u9ebc\uff1f",id:"json-web-tokens-\u7684\u904b\u4f5c\u65b9\u5f0f\u662f\u4ec0\u9ebc",level:2},{value:"\u70ba\u4f55\u6211\u5011\u61c9\u8a72\u7528 JSON Web Tokens?",id:"\u70ba\u4f55\u6211\u5011\u61c9\u8a72\u7528-json-web-tokens",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\u4ec0\u9ebc\u662f-json-web-token",children:"\u4ec0\u9ebc\u662f JSON Web Token?"}),"\n",(0,i.jsxs)(n.p,{children:["JSON Web Token (JWT) \u662f\u4e00\u500b\u516c\u8a8d\u7684\u958b\u653e\u6a19\u6e96 ",(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc7519",children:"RFC 7519"}),"\uff0c\u5b83\u4ee5\u4e00\u7a2e\u7c21\u6f54\u4e14\u81ea\u8db3\u7684\u65b9\u5f0f\u5b9a\u7fa9\u4e86\u5982\u4f55\u5b89\u5168\u5730\u5728\u5404\u65b9\u4e4b\u9593\u50b3\u905e\u8cc7\u8a0a\uff0c\u9019\u4e9b\u8cc7\u8a0a\u4ee5 JSON \u683c\u5f0f\u8868\u9054\u3002\u7531\u65bc\u9019\u4e9b\u8cc7\u8a0a\u7d93\u904e\u6578\u4f4d\u7c3d\u540d\uff0c\u56e0\u6b64\u53ef\u4ee5\u9032\u884c\u9a57\u8b49\u4e26\u88ab\u4fe1\u4efb\u3002JWTs \u53ef\u4ee5\u900f\u904e HMAC \u7b97\u6cd5\u548c\u5bc6\u9470\u9032\u884c\u7c3d\u540d\uff0c\u6216\u8005\u4f7f\u7528 RSA \u6216 ECDSA \u7684\u516c\u79c1\u9470\u6280\u8853\u7c3d\u540d\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5118\u7ba1 JWTs \u4e5f\u53ef\u4ee5\u9032\u884c\u52a0\u5bc6\uff0c\u4ee5\u4fdd\u8b77\u8cc7\u8a0a\u9593\u7684\u96b1\u79c1\uff0c\u4f46\u6211\u5011\u9019\u88e1\u4e3b\u8981\u8a0e\u8ad6\u7684\u662f\u7c3d\u540d\u6a5f\u5236\u3002\u900f\u904e\u7c3d\u540d\u7684 JWTs \u80fd\u5920\u78ba\u8a8d\u5176\u4e2d\u5305\u542b\u7684\u8072\u660e\u662f\u5b8c\u6574\u7121\u8aa4\u7684\uff0c\u800c\u52a0\u5bc6\u7684 JWTs \u5247\u80fd\u5c0d\u5176\u4ed6\u65b9\u96b1\u85cf\u9019\u4e9b\u8072\u660e\u3002\u7576 JWTs \u4f7f\u7528\u516c\u79c1\u9470\u5c0d\u9032\u884c\u7c3d\u540d\u6642\uff0c\u8a72\u7c3d\u540d\u9084\u8b49\u660e\u4e86\u53ea\u6709\u6301\u6709\u79c1\u9470\u7684\u4eba\u624d\u662f\u771f\u6b63\u7684\u7c3d\u540d\u8005\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u4f60\u5728\u4f55\u6642\u9700\u8981\u4f7f\u7528-jwt",children:"\u4f60\u5728\u4f55\u6642\u9700\u8981\u4f7f\u7528 JWT?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6388\u6b0a(Authorization)\uff1aJWT \u6700\u5e38\u7528\u65bc\u6388\u6b0a\u5834\u666f\u3002\u7528\u6236\u4e00\u65e6\u767b\u5165\uff0c\u4ed6\u5011\u7684\u6bcf\u4e00\u6b21\u8acb\u6c42\u90fd\u6703\u651c\u5e36 JWT\uff0c\u9019\u4f7f\u5f97\u7528\u6236\u80fd\u5920\u8a2a\u554f\u4ed6\u5011\u7528\u8a72 Token \u7372\u5f97\u6b0a\u9650\u7684\u8def\u5f91\u3001\u670d\u52d9\u53ca\u8cc7\u6e90\u3002\u73fe\u4eca\uff0c\u55ae\u4e00\u767b\u5165\u529f\u80fd\u5ee3\u6cdb\u63a1\u7528\u4e86 JWT\uff0c\u539f\u56e0\u5728\u65bc\u5b83\u7684\u8f15\u91cf\u6027\u548c\u6613\u65bc\u8de8\u4e0d\u540c\u9818\u57df\u4f7f\u7528\u7684\u7279\u9ede\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u8cc7\u8a0a\u4ea4\u63db\uff1aJTWs \u662f\u4e00\u7a2e\u5728\u5404\u65b9\u4e4b\u9593\u5b89\u5168\u4ea4\u63db\u8cc7\u8a0a\u7684\u6709\u6548\u65b9\u5f0f\u3002\u7531\u65bc JWT \u53ef\u4ee5\u9032\u884c\u7c3d\u540d\uff0c\u6bd4\u5982\u4f7f\u7528\u516c\u79c1\u9470\u5c0d\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u78ba\u5b9a\u767c\u9001\u8005\u7684\u8eab\u4efd\u7121\u8aa4\u3002\u6b64\u5916\uff0c\u7531\u65bc\u7c3d\u540d\u662f\u57fa\u65bc\u6a19\u982d\u548c\u6709\u6548\u5167\u5bb9\u8a08\u7b97\u7684\uff0c\u9019\u4e5f\u610f\u5473\u8457\u4f60\u80fd\u5920\u78ba\u8a8d\u50b3\u8f38\u7684\u5167\u5bb9\u6c92\u6709\u88ab\u7be1\u6539\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"jwt-\u7684\u7d50\u69cb",children:"JWT \u7684\u7d50\u69cb"}),"\n",(0,i.jsx)(n.p,{children:"\u5728 JSON Web Tokens \u7684\u7dca\u6e4a\u683c\u5f0f\u4e2d\uff0c\u5b83\u7531\u4e09\u500b\u7528\u9ede\uff08.\uff09\u5206\u9694\u7684\u90e8\u5206\u7d44\u6210\uff0c\u9019\u4e9b\u90e8\u5206\u5206\u5225\u662f\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6a19\u982d\uff08Header\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u8ca0\u8f09\uff08Payload\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u7c3d\u7ae0\uff08Signature\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u56e0\u6b64\uff0c\u4e00\u500b\u5178\u578b\u7684 JWT \u7684\u683c\u5f0f\u6703\u662f\u9019\u6a23\u7684\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"xxxxx.yyyyy.zzzzz"}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u9762\u6211\u5011\u4f86\u9010\u4e00\u89e3\u6790\u9019\u4e9b\u90e8\u5206\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u6a19\u982d-header",children:"\u6a19\u982d Header"}),"\n",(0,i.jsx)(n.p,{children:"\u6a19\u982d\u90e8\u5206\u4e00\u822c\u7531\u5169\u500b\u5143\u7d20\u7d44\u6210\uff1a\u4e00\u662f Token \u7684\u985e\u578b\uff0c\u5373\u300cJWT\u300d\uff0c\u4e8c\u662f\u6240\u63a1\u7528\u7684\u7c3d\u540d\u7b97\u6cd5\uff0c\u4f8b\u5982 HMAC SHA256 \u6216 RSA\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8209\u500b\u4f8b\u5b50\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "alg": "HS256",\n    "typ": "JWT"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7136\u5f8c\uff0c\u9019\u6bb5 JSON \u6703\u7d93\u904e Base64Url \u7de8\u78bc\uff0c\u5f9e\u800c\u5f62\u6210 JWT \u7684\u7b2c\u4e00\u90e8\u5206\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8ca0\u8f09-payload",children:"\u8ca0\u8f09 Payload"}),"\n",(0,i.jsxs)(n.p,{children:["Token \u7684\u7b2c\u4e8c\u90e8\u5206\u662f\u8ca0\u8f09\uff0c\u5b83\u5305\u542b\u4e86\u591a\u500b\u8072\u660e\u3002\u8072\u660e\u662f\u5c0d\u5be6\u9ad4\uff08\u901a\u5e38\u6307\u7528\u6236\uff09\u53ca\u984d\u5916\u8cc7\u6599\u7684\u9673\u8ff0\u3002\u8072\u660e\u5206\u70ba\u4e09\u985e\uff1a",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"\u8a3b\u518a\u8072\u660e"})}),"\u3001",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"\u516c\u958b\u8072\u660e"})})," \u548c ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"\u79c1\u6709\u8072\u660e"})}),"\u3002"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8a3b\u518a\u8072\u660e(Registered claims)\uff1a\u9019\u4e9b\u662f\u4e00\u7d44\u4e8b\u5148\u5b9a\u7fa9\u597d\u7684\u8072\u660e\uff0c\u96d6\u975e\u5f37\u5236\u6027\u7684\uff0c\u4f46\u5efa\u8b70\u4f7f\u7528\uff0c\u4ee5\u4fbf\u63d0\u4f9b\u4e00\u5957\u5be6\u7528\u4e14\u80fd\u5920\u4e92\u76f8\u64cd\u4f5c\u7684\u8072\u660e\u3002\u4f8b\u5982\uff1aiss\uff08\u767c\u884c\u8005\uff09\u3001exp\uff08\u904e\u671f\u6642\u9593\uff09\u3001sub\uff08\u4e3b\u9ad4\uff09\u3001aud\uff08\u53d7\u773e\uff09\u7b49\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"\u8acb\u6ce8\u610f\uff0c\u70ba\u4e86\u4fdd\u6301 JWT \u7684\u7dca\u6e4a\u6027\uff0c\u9019\u4e9b\u8072\u660e\u540d\u7a31\u901a\u5e38\u53ea\u6709\u4e09\u500b\u5b57\u6bcd\u9577\u3002"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\u516c\u958b\u8072\u660e(Public claims)\uff1aJWT \u7684\u4f7f\u7528\u8005\u53ef\u4ee5\u81ea\u884c\u5b9a\u7fa9\u9019\u4e9b\u8072\u660e\u3002\u70ba\u4e86\u907f\u514d\u540d\u7a31\u885d\u7a81\uff0c\u9019\u4e9b\u8072\u660e\u61c9\u5728 ",(0,i.jsx)(n.a,{href:"https://www.iana.org/assignments/jwt/jwt.xhtml",children:"IANA JSON Web Token Registry"})," \u4e2d\u8a3b\u518a\uff0c\u6216\u8005\u5b9a\u7fa9\u70ba\u4e00\u500b\u5305\u542b\u9632\u78b0\u649e\u6027\u547d\u540d\u7a7a\u9593\u7684 URI\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u79c1\u6709\u8072\u660e(Private claims)\uff1a\u9019\u4e9b\u662f\u7528\u65bc\u5728\u540c\u610f\u4f7f\u7528\u9019\u4e9b\u8072\u660e\u7684\u5404\u65b9\u4e4b\u9593\u4ea4\u63db\u8cc7\u8a0a\u7684\u81ea\u8a02\u8072\u660e\uff0c\u5b83\u5011\u65e2\u4e0d\u5c6c\u65bc\u8a3b\u518a\u8072\u660e\u4e5f\u4e0d\u5c6c\u65bc\u516c\u958b\u8072\u660e\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u500b\u8ca0\u8f09\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "sub": "1234567890",\n    "name": "John Doe",\n    "admin": true\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u96a8\u5f8c\uff0c\u9019\u6bb5\u8ca0\u8f09\u6703\u7d93\u904e Base64Url \u7de8\u78bc\uff0c\u5f62\u6210 JSON Web Token \u7684\u7b2c\u4e8c\u90e8\u5206\u3002"}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c0d\u65bc\u7c3d\u540d\u7684 Token \u4f86\u8aaa\uff0c\u5118\u7ba1\u9019\u4e9b\u8cc7\u8a0a\u53d7\u5230\u7be1\u6539\u4fdd\u8b77\uff0c\u4f46\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u95b1\u8b80\u3002\u9664\u975e\u9032\u884c\u52a0\u5bc6\uff0c\u5426\u5247\u4e0d\u8981\u5728 JWT \u7684\u6a19\u982d\u6216\u6709\u6548\u8f09\u8377\u90e8\u5206\u653e\u7f6e\u6a5f\u5bc6\u8cc7\u8a0a\u3002"})}),"\n",(0,i.jsx)(n.h3,{id:"\u7c3d\u7ae0-signature",children:"\u7c3d\u7ae0 Signature"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u88fd\u4f5c\u7c3d\u540d\u90e8\u5206\uff0c\u4f60\u9700\u8981\u53d6\u5f97\u5df2\u7de8\u78bc\u7684\u6a19\u982d\u548c\u8ca0\u8f09\u3001\u4e00\u500b\u79d8\u5bc6\u9470\u5319\uff0c\u4ee5\u53ca\u6a19\u982d\u4e2d\u6307\u5b9a\u7684\u7b97\u6cd5\uff0c\u4e26\u57fa\u65bc\u9019\u4e9b\u9032\u884c\u7c3d\u540d\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982\u8aaa\uff0c\u5982\u679c\u4f60\u9078\u64c7\u4f7f\u7528 HMAC SHA256 \u7b97\u6cd5\uff0c\u7c3d\u540d\u5c07\u6309\u7167\u4ee5\u4e0b\u65b9\u5f0f\u751f\u6210\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'HMACSHA256(\n  base64UrlEncode(header) + "." +\n  base64UrlEncode(payload),\n  secret)\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7c3d\u540d\u7684\u4f5c\u7528\u662f\u78ba\u4fdd\u4fe1\u606f\u5728\u50b3\u8f38\u904e\u7a0b\u4e2d\u672a\u88ab\u7be1\u6539\uff0c\u4e26\u4e14\u5728\u4f7f\u7528\u79c1\u9470\u9032\u884c\u7c3d\u540d\u7684 Token \u4e2d\uff0c\u9084\u80fd\u9a57\u8b49 JWT \u767c\u9001\u8005\u7684\u771f\u5be6\u8eab\u4efd\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u7d9c\u5408\u9019\u4e9b\u5143\u7d20",children:"\u7d9c\u5408\u9019\u4e9b\u5143\u7d20"}),"\n",(0,i.jsx)(n.p,{children:"\u751f\u6210\u7684\u7d50\u679c\u662f\u4e09\u6bb5\u7528\u9ede\u5206\u9694\u7684 Base64-URL \u5b57\u4e32\uff0c\u9019\u7a2e\u683c\u5f0f\u4fbf\u65bc\u5728 HTML \u548c HTTP \u74b0\u5883\u4e2d\u50b3\u905e\uff0c\u4e14\u76f8\u6bd4\u57fa\u65bc XML \u7684\u6a19\u6e96\uff08\u5982 SAML\uff09\u66f4\u70ba\u7dca\u6e4a\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u4e00\u500b\u4f8b\u5b50\uff0c\u5c55\u793a\u4e86\u4e00\u500b\u5305\u542b\u4e0a\u8ff0\u6a19\u982d\u548c\u6709\u6548\u8ca0\u8f09\u7de8\u78bc\uff0c\u4e26\u7528\u79d8\u5bc6\u7c3d\u540d\u7684 JWT\u3002\u9019\u662f\u7de8\u78bc\u5f8c\u7684 JWT\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"jwt-001",src:s(5828).Z+"",width:"1562",height:"360"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u60f3\u89aa\u81ea\u5be6\u9a57 JWT \u4e26\u5c07\u9019\u4e9b\u6982\u5ff5\u61c9\u7528\u65bc\u5be6\u8e10\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"https://jwt.io/#debugger-io",children:"jwt.io Debugger"})," \u4f86\u89e3\u78bc\u3001\u9a57\u8b49\u548c\u751f\u6210 JWT\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"jwt-002",src:s(9974).Z+"",width:"959",height:"1079"})}),"\n",(0,i.jsx)(n.h2,{id:"json-web-tokens-\u7684\u904b\u4f5c\u65b9\u5f0f\u662f\u4ec0\u9ebc",children:"JSON Web Tokens \u7684\u904b\u4f5c\u65b9\u5f0f\u662f\u4ec0\u9ebc\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u4f7f\u7528\u8005\u900f\u904e\u5e33\u865f\u5bc6\u78bc\u6210\u529f\u767b\u5165\u5f8c\uff0c\u7cfb\u7d71\u6703\u56de\u50b3\u4e00\u500b JSON Web Token \u4f5c\u70ba\u8eab\u4efd\u9a57\u8b49\u7684\u6191\u64da\u3002\u7531\u65bc\u9019\u4e9b\u4ee4\u724c\u6d89\u53ca\u5b89\u5168\u6027\uff0c\u56e0\u6b64\u5fc5\u9808\u56b4\u683c\u7ba1\u7406\uff0c\u907f\u514d\u4efb\u4f55\u5b89\u5168\u96b1\u60a3\u3002\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u4e0d\u5efa\u8b70\u5c07\u4ee4\u724c\u4fdd\u5b58\u6642\u9593\u904e\u9577\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6b64\u5916\uff0c\u8003\u616e\u5230\u5b89\u5168\u6027\u554f\u984c\uff0c\u654f\u611f\u7684\u6703\u8a71\u8cc7\u6599\u4e0d\u61c9\u5132\u5b58\u5728\u700f\u89bd\u5668\u5b58\u5132\u4e2d\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7576\u7528\u6236\u9700\u8981\u9032\u5165\u53d7\u4fdd\u8b77\u7684\u8def\u5f91\u6216\u8cc7\u6e90\u6642\uff0c\u61c9\u900f\u904e\u7528\u6236\u7aef\u4ee3\u7406\u767c\u9001 JWT\uff0c\u901a\u5e38\u9019\u662f\u900f\u904e\u5728 Authorization header \u4e2d\u9644\u52a0 Bearer \u683c\u5f0f\u4f86\u5b8c\u6210\u3002\u5176\u683c\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Authorization: Bearer <token>\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u7279\u5b9a\u60c5\u6cc1\u4e0b\uff0c\u9019\u7a2e\u65b9\u6cd5\u53ef\u5be6\u73fe\u7121\u72c0\u614b\u6388\u6b0a\u3002\u7576\u4f3a\u670d\u5668\u5075\u6e2c\u5230 Authorization header \u4e2d\u6709\u6709\u6548\u7684 JWT \u6642\uff0c\u5c07\u5141\u8a31\u7528\u6236\u8a2a\u554f\u53d7\u4fdd\u8b77\u7684\u8cc7\u6e90\u3002\u5018\u82e5 JWT \u4e2d\u5df2\u5305\u542b\u6240\u9700\u8cc7\u6599\uff0c\u5247\u6709\u53ef\u80fd\u6e1b\u5c11\u5c0d\u8cc7\u6599\u5eab\u7684\u67e5\u8a62\u9700\u6c42\uff0c\u4f46\u9019\u4e0d\u662f\u7d55\u5c0d\u7684\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u6ce8\u610f\u7684\u662f\uff0c\u900f\u904e HTTP header \u50b3\u9001 JWT \u6642\uff0c\u6700\u597d\u907f\u514d\u4ee4\u724c\u904e\u5927\u3002\u6709\u4e9b\u4f3a\u670d\u5668\u5c0d\u982d\u90e8\u8cc7\u6599\u7684\u63a5\u53d7\u9650\u5236\u70ba 8 KB\u3002\u5982\u679c\u4ee4\u724c\u4e2d\u5305\u542b\u904e\u591a\u8cc7\u8a0a\uff0c\u4f8b\u5982\u5305\u542b\u7528\u6236\u6240\u6709\u6b0a\u9650\u8cc7\u6599\uff0c\u5247\u53ef\u80fd\u9700\u8981\u5c0b\u627e\u5176\u4ed6\u89e3\u6c7a\u65b9\u6848\uff0c\u4f8b\u5982\u4f7f\u7528 Auth0 \u7684\u7d30\u7c92\u5ea6\u6388\u6b0a\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u82e5 JWT \u662f\u900f\u904e Authorization header \u767c\u9001\uff0c\u5247\u4e0d\u6703\u5f15\u8d77\u8de8\u4f86\u6e90\u8cc7\u6e90\u5171\u4eab\uff08CORS\uff09\u7684\u554f\u984c\uff0c\u56e0\u70ba\u5b83\u4e0d\u4f9d\u8cf4 cookies\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u4e0b\u793a\u610f\u5716\u5c55\u793a\u4e86\u5982\u4f55\u7372\u53d6\u4e26\u5229\u7528 JWT \u5b58\u53d6 API \u6216\u5176\u4ed6\u8cc7\u6e90\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"jwt-003",src:s(4391).Z+"",width:"1500",height:"571"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u5ba2\u6236\u7aef\u6216\u61c9\u7528\u7a0b\u5f0f\u9700\u8981\u5411\u6388\u6b0a\u4f3a\u670d\u5668\u7533\u8acb\u6388\u6b0a\uff0c\u9019\u901a\u5e38\u662f\u900f\u904e\u6578\u7a2e\u4e0d\u540c\u7684\u6388\u6b0a\u6d41\u7a0b\u4f86\u5b8c\u6210\u7684\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u4e00\u500b\u9075\u5faa OpenID Connect \u6a19\u6e96\u7684\u5178\u578b\u7db2\u8def\u61c9\u7528\u7a0b\u5f0f\u6703\u900f\u904e /oauth/authorize \u9019\u500b\u7aef\u9ede\uff0c\u63a1\u7528\u6388\u6b0a\u78bc\u6d41\u7a0b\u9032\u884c\u6388\u6b0a\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4e00\u65e6\u6388\u6b0a\u6210\u529f\uff0c\u6388\u6b0a\u4f3a\u670d\u5668\u6703\u56de\u50b3\u4e00\u500b\u5b58\u53d6\u4ee4\u724c\u7d66\u61c9\u7528\u7a0b\u5f0f\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u63a5\u8457\uff0c\u61c9\u7528\u7a0b\u5f0f\u5229\u7528\u9019\u500b\u5b58\u53d6\u4ee4\u724c\u4f86\u8a2a\u554f\u53d7\u4fdd\u8b77\u7684\u8cc7\u6e90\uff0c\u4f8b\u5982 API\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u7279\u5225\u7559\u610f\u7684\u662f\uff0c\u5c0d\u65bc\u5df2\u7d93\u7c3d\u540d\u7684\u4ee4\u724c\uff0c\u5176\u5167\u542b\u7684\u6240\u6709\u4fe1\u606f\u90fd\u662f\u5c0d\u4f7f\u7528\u8005\u6216\u5176\u4ed6\u76f8\u95dc\u65b9\u516c\u958b\u7684\uff0c\u5118\u7ba1\u4ed6\u5011\u7121\u6cd5\u4fee\u6539\u9019\u4e9b\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u5207\u52ff\u5728\u4ee4\u724c\u4e2d\u5132\u5b58\u4efb\u4f55\u6a5f\u5bc6\u8cc7\u6599\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u4f55\u904b\u4f5c JSON Web Token"}),"\n",(0,i.jsx)(n.p,{children:"\u5ba2\u6236\u7aef\u6216\u61c9\u7528\u7a0b\u5e8f\u5411\u6388\u6b0a\u4f3a\u670d\u5668\u8acb\u6c42\u6388\u6b0a\uff0c\u9019\u901a\u5e38\u900f\u904e\u4e0d\u540c\u7684\u6388\u6b0a\u6d41\u7a0b\u4f86\u5be6\u73fe\u3002\u6bd4\u5982\uff0c\u4e00\u500b\u9075\u5faa OpenID Connect \u7684 Web \u61c9\u7528\u6703\u900f\u904e /oauth/authorize \u7aef\u9ede\uff0c\u4f7f\u7528\u6388\u6b0a\u4ee3\u78bc\u6d41\u7a0b\u4f86\u9032\u884c\u3002\n\u6388\u6b0a\u6210\u529f\u5f8c\uff0c\u6388\u6b0a\u4f3a\u670d\u5668\u6703\u5c07\u5b58\u53d6\u4ee4\u724c\u767c\u9001\u7d66\u61c9\u7528\u7a0b\u5e8f\u3002\n\u61c9\u7528\u7a0b\u5e8f\u5247\u5229\u7528\u9019\u500b\u5b58\u53d6\u4ee4\u724c\u4f86\u5b58\u53d6\u53d7\u4fdd\u8b77\u7684\u8cc7\u6e90\uff0c\u5982 API\u3002\n\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5373\u4f7f\u4f7f\u7528\u4e86\u7c3d\u540d\u7684\u4ee4\u724c\uff0c\u4ee4\u724c\u5167\u7684\u6240\u6709\u8cc7\u8a0a\u5c0d\u65bc\u4f7f\u7528\u8005\u6216\u7b2c\u4e09\u65b9\u90fd\u662f\u53ef\u898b\u7684\uff0c\u96d6\u7136\u4ed6\u5011\u7121\u6cd5\u66f4\u6539\u9019\u4e9b\u8cc7\u8a0a\u3002\u56e0\u6b64\uff0c\u4e0d\u61c9\u8a72\u5728\u4ee4\u724c\u4e2d\u5b58\u653e\u4efb\u4f55\u79d8\u5bc6\u8cc7\u8a0a\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u70ba\u4f55\u6211\u5011\u61c9\u8a72\u7528-json-web-tokens",children:"\u70ba\u4f55\u6211\u5011\u61c9\u8a72\u7528 JSON Web Tokens?"}),"\n",(0,i.jsx)(n.p,{children:"\u70ba\u4ec0\u9ebc\u9078\u64c7 JSON Web Tokens (JWT) \u5462\uff1f\u8b93\u6211\u5011\u4f86\u63a2\u8a0e\u4e00\u4e0b\uff0c\u8207 Simple Web Tokens (SWT) \u548c Security Assertion Markup Language Tokens (SAML) \u76f8\u6bd4\uff0cJWT \u7684\u512a\u52e2\u6240\u5728\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0cJSON \u7684\u7d50\u69cb\u6bd4 XML \u66f4\u70ba\u7cbe\u7c21\uff0c\u6240\u4ee5\u7576\u5b83\u88ab\u7de8\u78bc\u5f8c\uff0c\u5176\u5927\u5c0f\u4e5f\u76f8\u5c0d\u8f03\u5c0f\uff0c\u9019\u4f7f\u5f97 JWT \u5728 HTML \u548c HTTP \u74b0\u5883\u4e0b\u50b3\u8f38\u6642\u66f4\u70ba\u9ad8\u6548\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5f9e\u5b89\u5168\u89d2\u5ea6\u4f86\u770b\uff0cSWT \u53ea\u80fd\u900f\u904e HMAC \u7b97\u6cd5\u4f7f\u7528\u5171\u4eab\u79d8\u9470\u9032\u884c\u5c0d\u7a31\u52a0\u5bc6\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0cJWT \u548c SAML \u5247\u53ef\u4ee5\u63a1\u7528\u516c/\u79c1\u9470\u5c0d\uff0c\u4e26\u4f7f\u7528 X.509 \u8b49\u66f8\u9032\u884c\u7c3d\u540d\u3002\u76f8\u8f03\u65bc JSON\uff0c\u8981\u5728 XML \u4e0a\u5be6\u73fe\u6578\u4f4d\u7c3d\u540d\u4e14\u4e0d\u5f15\u5165\u5b89\u5168\u96b1\u60a3\u76f8\u5c0d\u56f0\u96e3\u5f97\u591a\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6b64\u5916\uff0c\u591a\u6578\u7a0b\u5f0f\u8a9e\u8a00\u90fd\u652f\u63f4 JSON \u89e3\u6790\uff0c\u56e0\u70ba\u5b83\u5011\u53ef\u4ee5\u76f4\u63a5\u8207\u5c0d\u8c61\u9032\u884c\u6620\u5c04\u3002\u800c XML \u5247\u7f3a\u4e4f\u76f4\u89c0\u7684\u6587\u6a94\u5c0d\u8c61\u6620\u5c04\uff0c\u9019\u4f7f\u5f97 JWT \u7684\u8655\u7406\u6bd4 SAML \u65b7\u8a00\u4f86\u5f97\u7c21\u4fbf\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u5be6\u969b\u61c9\u7528\u65b9\u9762\uff0cJWT \u5df2\u7d93\u88ab\u5ee3\u6cdb\u61c9\u7528\u65bc\u4e92\u806f\u7db2\u898f\u6a21\u7684\u5834\u666f\uff0c\u5c24\u5176\u5728\u591a\u5e73\u53f0\u5ba2\u6236\u7aef\u8655\u7406\u4e0a\uff0c\u7279\u5225\u662f\u5728\u79fb\u52d5\u8a2d\u5099\u4e0a\uff0c\u5c55\u73fe\u4e86\u5176\u4fbf\u5229\u6027\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u53c3\u8003\uff1a",(0,i.jsx)(n.a,{href:"https://jwt.io/introduction",children:"Introduction to JSON Web Tokens"})]})]})}function a(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},5828:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/jwt-001-eead6a042010143c98bec97392f08b7d.png"},9974:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/jwt-002-fa40ca9e79e1732eb8f95b8d918abb32.png"},4391:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/jwt-003-a0ea64dd04164ede4422e46564bc9478.png"},1151:(e,n,s)=>{s.d(n,{Z:()=>t,a:()=>d});var i=s(7294);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);