"use strict";(self.webpackChunksrc_dev=self.webpackChunksrc_dev||[]).push([[48],{5863:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var a=s(5893),r=s(1151);const t={sidebar_position:1,title:"Data Classes"},l=void 0,i={id:"kotlin/data-classes",title:"Data Classes",description:"\u672c\u7bc7\u7d00\u9304 Data Classes \u7684\u4e3b\u8981\u6982\u5ff5\u8207\u7528\u6cd5\u3002",source:"@site/docs/kotlin/data-classes.md",sourceDirName:"kotlin",slug:"/kotlin/data-classes",permalink:"/src.dev/kotlin/data-classes",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Data Classes"},sidebar:"tutorialSidebar",previous:{title:"Kotlin",permalink:"/src.dev/category/kotlin"},next:{title:"Scope Functions",permalink:"/src.dev/kotlin/scope-functions"}},o={},c=[{value:"\u5ba3\u544a\u5728 Class Body \u7684\u8b8a\u6578",id:"\u5ba3\u544a\u5728-class-body-\u7684\u8b8a\u6578",level:2},{value:"Copying",id:"copying",level:2},{value:"Destructuring",id:"destructuring",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"\u672c\u7bc7\u7d00\u9304 Data Classes \u7684\u4e3b\u8981\u6982\u5ff5\u8207\u7528\u6cd5\u3002"}),"\n",(0,a.jsx)(n.p,{children:"Data Classes \u7684\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u6301\u6709 Data\uff0c \u9019\u7a2e Class \u6703\u81ea\u52d5\u5efa\u7acb\u4e00\u4e9b\u6210\u54e1\u51fd\u6578\u4f8b\u5982 toString, compare, copy \u7b49\u7b49\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",metastring:'title="\u6301\u6709 User Data(name & age) \u7684 Data Class"',children:"data class User(val name: String, val age: Int)\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u800c\u7de8\u8b6f\u5668\u5c0d data class \u6703\u81ea\u52d5\u7522\u751f\u4ee5\u4e0b\u7684\u6210\u54e1\u51fd\u6578\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:".equals() / .hashCode()"}),"\n",(0,a.jsx)(n.li,{children:'.toString() \u683c\u5f0f\u70ba "User(name=John, age=42)"'}),"\n",(0,a.jsx)(n.li,{children:".componentN() \u4f9d\u7167\u53c3\u6578\u9806\u5e8f\u7522\u751f\uff0cKotlin\u53ef\u4ee5\u4ee5\u6b64\u4f86\u5c07\u5c6c\u6027\u89e3\u69cb(Destructuring)"}),"\n",(0,a.jsx)(n.li,{children:".copy()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Data Classes \u5fc5\u9808\u8981\u6eff\u8db3\u4ee5\u4e0b\u689d\u4ef6\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5b83\u7684 Primary Constructor \u5fc5\u9808\u8981\u6709\u81f3\u5c11\u4e00\u500b\u7684\u53c3\u6578"}),"\n",(0,a.jsxs)(n.li,{children:["\u6240\u6709\u5728 primary Constructor \u5167\u7684\u53c3\u6578\u5fc5\u9808\u6a19\u660e ",(0,a.jsx)(n.code,{children:"val"})," \u6216 ",(0,a.jsx)(n.code,{children:"var"})]}),"\n",(0,a.jsx)(n.li,{children:"\u5b83\u4e0d\u80fd\u662f abstract, open, sealed, or inner."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u53e6\u5916\u5728\u81ea\u52d5\u751f\u6210 Data Classes \u6210\u54e1\u51fd\u6578\u6642\u6709\u9019\u4e9b\u898f\u5247\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u82e5\u5b83\u5df2\u7d93\u6709\u5be6\u4f5c .equals(), .hashCode() \u6216 .toString()\uff0c\u5247\u7de8\u8b6f\u5668\u5c31\u4e0d\u6703\u5728\u81ea\u52d5\u5efa\u7acb\u9019\u4e9b\u51fd\u6578\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u4e0d\u80fd\u81ea\u884c\u5be6\u4f5c .componentN() \u8207 .copy() \u51fd\u6578\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u5ba3\u544a\u5728-class-body-\u7684\u8b8a\u6578",children:"\u5ba3\u544a\u5728 Class Body \u7684\u8b8a\u6578"}),"\n",(0,a.jsx)(n.p,{children:"\u53e6\u5916\u8981\u6ce8\u610f\u7684\u662f\u7de8\u8b6f\u5668\u81ea\u52d5\u7522\u751f\u7684\u51fd\u6578\u53ea\u6703\u5c0d Primary Constructor \u5167\u7684\u53c3\u6578\u6709\u6548\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u8981\u628a Data Class \u7684\u53c3\u6578\u6392\u9664\u5728\u81ea\u52d5\u751f\u6210\u51fd\u6578\u5916\u7684\u8a71\u53ef\u4ee5\u9019\u6a23\u505a\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",metastring:'title="age \u9019\u500b\u8b8a\u6578\u5c07\u6392\u9664\u5728\u5916"',children:"data class Person(val name: String) {\n    var age: Int = 0\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u5728\u9019\u500b\u7bc4\u4f8b\u88e1\uff0c\u53ea\u6709 ",(0,a.jsx)(n.code,{children:"name"})," \u9019\u500b\u8b8a\u6578\u6703\u5305\u542b\u5728 .toString(), .equals(), .hashCode() \u8ddf .copy() \u7684\u5be6\u4f5c\u5167\uff0c\u4e5f\u53ea\u6703\u6709 .component1()\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u5982\u679c\u6b64\u6642\u6709\u5169\u500b ",(0,a.jsx)(n.code,{children:"Person"})," \u7269\u4ef6\uff0c\u4ed6\u5011\u6709\u4e0d\u4e00\u6a23\u7684 ",(0,a.jsx)(n.code,{children:"age"})," \u4f46\u6709\u4e00\u6a23\u7684 ",(0,a.jsx)(n.code,{children:"name"})," \uff0c\u4ed6\u5011\u6703\u88ab\u8996\u70ba ",(0,a.jsx)(n.strong,{children:"equal"}),"\u3002\u56e0\u70ba .equals() \u53ea\u6703\u5224\u65b7 ",(0,a.jsx)(n.code,{children:"name"})," \u9019\u500b\u8b8a\u6578\u662f\u5426\u4e00\u6a23\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",children:'val person1 = Person("John")\nval person2 = Person("John")\nperson1.age = 10\nperson2.age = 20\n\nprintln("person1 == person2: ${person1 == person2}")\n// person1 == person2: true\n\nprintln("person1 with age ${person1.age}: ${person1}")\n// person1 with age 10: Person(name=John)\n\nprintln("person2 with age ${person2.age}: ${person2}")\n// person2 with age 20: Person(name=John)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"copying",children:"Copying"}),"\n",(0,a.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:".copy()"})," \u9019\u500b\u51fd\u6578\u4f86\u8907\u88fd\u7269\u4ef6\uff0c\u9019\u500b\u51fd\u6578\u53ef\u4ee5\u8b93\u4f60\u6539\u8b8a\u67d0\u4e9b\u53c3\u6578\u7684\u503c\uff0c\u4e26\u4e14\u5176\u9918\u4e0d\u8b8a\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",metastring:'title="\u4e0a\u9762 User Data Class \u7684 copy() \u51fd\u6578\u5be6\u4f5c"',children:"fun copy(name: String = this.name, age: Int = this.age) = User(name, age)\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\u4e0a\u53ef\u4ee5\u9019\u6a23\u7528\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",metastring:'title="Copy Jack \u9019\u500b User, \u540c\u6642\u5c07 age \u6539\u6210 2"',children:'val jack = User(name = "Jack", age = 1)\nval olderJack = jack.copy(age = 2)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"destructuring",children:"Destructuring"}),"\n",(0,a.jsxs)(n.p,{children:["\u900f\u904e Data Classes \u7684 ",(0,a.jsx)(n.code,{children:"component functions"})," (\u4e5f\u5c31\u662f .componentN()) \u6211\u5011\u5c31\u80fd\u4f7f\u7528 Destructuring"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",children:'val jane = User("Jane", 35)\nval (name, age) = jane\nprintln("$name, $age years of age")\n// Jane, 35 years of age\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u96d6\u7136\u6a19\u6e96\u51fd\u5f0f\u5eab\u6709\u63d0\u4f9b ",(0,a.jsx)(n.code,{children:"Pair"})," ",(0,a.jsx)(n.code,{children:"Triple"})," \u9019\u4e9b\u985e\u5225\uff0c\u4f46\u4f7f\u7528 Destructuring \u53ef\u4ee5\u5c07\u8b8a\u6578\u547d\u540d\uff0c\u5c07\u63d0\u5347\u53ef\u8b80\u6027\uff0c\u6703\u662f\u8f03\u5efa\u8b70\u7684\u505a\u6cd5\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u53c3\u8003\uff1a\n",(0,a.jsx)(n.a,{href:"https://kotlinlang.org/docs/data-classes.html",children:"Data Classes"})]})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>l});var a=s(7294);const r={},t=a.createContext(r);function l(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);