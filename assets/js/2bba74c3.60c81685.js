"use strict";(self.webpackChunksrc_dev=self.webpackChunksrc_dev||[]).push([[733],{5188:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>a});var i=s(5893),t=s(1151);const o={sidebar_position:1,slug:"/",title:"\u5f9e0\u52301\u5c07 Docusaurus \u7f72\u5230 GitHub Pages"},r=void 0,c={id:"docusaurus/create-and-deploy-to-GutHub-Pages",title:"\u5f9e0\u52301\u5c07 Docusaurus \u7f72\u5230 GitHub Pages",description:"\u5982\u4f55\u5feb\u901f\u67b6\u8a2d Docusaurus \u4e26\u90e8\u7f72\u5230 GitHub Pages \u5462\uff1f",source:"@site/docs/docusaurus/create-and-deploy-to-GutHub-Pages.md",sourceDirName:"docusaurus",slug:"/",permalink:"/src.dev/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/",title:"\u5f9e0\u52301\u5c07 Docusaurus \u7f72\u5230 GitHub Pages"},sidebar:"tutorialSidebar",previous:{title:"Docusaurus",permalink:"/src.dev/category/docusaurus"},next:{title:"Docs-only mode",permalink:"/src.dev/docusaurus/docs-only-mode"}},u={},a=[{value:"\u5b89\u88dd Node.js",id:"\u5b89\u88dd-nodejs",level:2},{value:"\u5b89\u88dd Docusaurus",id:"\u5b89\u88dd-docusaurus",level:2},{value:"\u8a2d\u5b9a docusaurus.config.js",id:"\u8a2d\u5b9a-docusaurusconfigjs",level:2},{value:"GitHub \u5275\u5efa\u5e33\u865f\u4e26\u5c07 Docusaurus \u4e0a\u50b3\u81f3 GitHub repo",id:"github-\u5275\u5efa\u5e33\u865f\u4e26\u5c07-docusaurus-\u4e0a\u50b3\u81f3-github-repo",level:2},{value:"GitHub Actions workflow \u81ea\u52d5\u5b8c\u6210\u90e8\u7f72\u81f3 GitHub Pages",id:"github-actions-workflow-\u81ea\u52d5\u5b8c\u6210\u90e8\u7f72\u81f3-github-pages",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u5982\u4f55\u5feb\u901f\u67b6\u8a2d Docusaurus \u4e26\u90e8\u7f72\u5230 GitHub Pages \u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u672c\u7bc7\u6587\u7ae0\u4ecb\u7d39\u5982\u4f55\u5f9e\u96f6\u958b\u59cb\u67b6\u8a2d\u4e00\u500b Docusaurus \u975c\u614b\u7db2\u7ad9\uff0c\u4e26\u90e8\u7f72\u5230 GitHub Pages \u7684\u6240\u6709\u6d41\u7a0b\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u672c\u6587\u4f7f\u7528\u7684\u74b0\u5883\u70ba ",(0,i.jsx)(n.code,{children:"macos"}),"\uff0c\u800c Docusaurus \u7248\u672c\u70ba ",(0,i.jsx)(n.code,{children:"3.0.1"}),"\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5fc5\u8981\u689d\u4ef6\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5927\u81f4\u4e86\u89e3 Git \u7248\u672c\u63a7\u7ba1\u662f\u4ec0\u9ebc\uff0c\u4ee5\u53ca branch \u662f\u4ec0\u9ebc"}),"\n",(0,i.jsx)(n.li,{children:"\u77e5\u9053 GitHub \u7684\u7528\u9014\uff0c\u4ee5\u53ca GitHub Actions/Pages \u63d0\u4f9b\u4ec0\u9ebc\u529f\u80fd"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u57f7\u884c\u6b65\u9a5f\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5b89\u88dd ",(0,i.jsx)(n.a,{href:"https://nodejs.org/en",children:"Node.js"})," \u7248\u672c 18.0 \u4ee5\u4e0a"]}),"\n",(0,i.jsx)(n.li,{children:"\u5b89\u88dd Docusaurus"}),"\n",(0,i.jsx)(n.li,{children:"\u8a2d\u5b9a docusaurus.config.js"}),"\n",(0,i.jsx)(n.li,{children:"GitHub \u5275\u5efa\u5e33\u865f\u4e26\u5c07 Docusaurus \u4e0a\u50b3\u81f3 GitHub repo"}),"\n",(0,i.jsx)(n.li,{children:"GitHub Actions workflow \u81ea\u52d5\u5b8c\u6210\u90e8\u7f72\u81f3 GitHub Pages"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88dd-nodejs",children:"\u5b89\u88dd Node.js"}),"\n",(0,i.jsxs)(n.p,{children:["macos \u63a8\u85a6\u7528 ",(0,i.jsx)(n.a,{href:"https://brew.sh/",children:"Homebrew"})," \u5b89\u88dd"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728 Terminal \u5167\u8f38\u5165\u4ee5\u4e0b\u6307\u4ee4\u4ee5\u5b89\u88dd homebrew\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u5b8c\u6210\u5f8c\u5728 Terminal \u8f38\u5165\u4ee5\u4e0b\u6307\u4ee4\u4ee5",(0,i.jsx)(n.a,{href:"https://formulae.brew.sh/formula/node",children:"\u900f\u904e homebrew \u5b89\u88dd node"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"brew install node\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6aa2\u67e5 node \u7248\u672c\uff0c\u9700\u5927\u65bc 18.0\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"node -v\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88dd-docusaurus",children:"\u5b89\u88dd Docusaurus"}),"\n",(0,i.jsxs)(n.p,{children:["\u5b98\u65b9\u5efa\u8b70\u7528 ",(0,i.jsx)(n.code,{children:"classic"})," \u6a21\u677f\u4f86\u5feb\u901f\u5efa\u7f6e\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u8981\u653e\u7f6e\u90e8\u843d\u683c\u6587\u6a94\u7684\u8cc7\u6599\u593e\u5167\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npx create-docusaurus@latest my-website classic\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u9019\u500b\u6307\u4ee4\u6703\u5efa\u7acb\u4e00\u500b\u53eb ",(0,i.jsx)(n.code,{children:"my-website"})," \u7684\u65b0\u8cc7\u6599\u593e\uff0c\u4e26\u628a\u6240\u9700\u7684\u5c08\u6848\u6a94\u653e\u5728\u8a72\u8cc7\u6599\u593e\u5167\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u6b64\u6642\u4e00\u500b\u53eb\u505a my-website \u7684 docusaurus \u5c08\u6848\u5c31\u5efa\u7acb\u8d77\u4f86\u4e86\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u9810\u89bd\u9019\u500b\u5c08\u6848\u7684\u5167\u5bb9\uff0c\u53ef\u4ee5\u900f\u904e docusaurus \u63d0\u4f9b\u7684 local server\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cd my-website\nnpm run start\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6b64\u6642\u6c92\u554f\u984c\u7684\u8a71\uff0c\u700f\u89bd\u5668\u5c31\u6703\u958b\u555f ",(0,i.jsx)(n.code,{children:"http://localhost:3000"})," \uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u5be6\u969b\u7684\u756b\u9762\u4e86\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u8a2d\u5b9a-docusaurusconfigjs",children:"\u8a2d\u5b9a docusaurus.config.js"}),"\n",(0,i.jsxs)(n.p,{children:["\u9700\u8981\u5728 ",(0,i.jsx)(n.code,{children:"docusaurus.config.js"})," \u5167\u505a\u5c0d\u61c9\u7684\u4fee\u6539\u3002"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["url: \u6539\u6210 ",(0,i.jsx)(n.code,{children:"https://<\u4f60\u7684 GitHub name>.github.io"})]}),"\n",(0,i.jsxs)(n.li,{children:["baseUrl: \u6539\u6210 ",(0,i.jsx)(n.code,{children:"/<\u4f60\u7684\u5c08\u6848\u540d\u7a31>/"})]}),"\n",(0,i.jsxs)(n.li,{children:["organizationName: ",(0,i.jsx)(n.code,{children:"<\u4f60\u7684 GitHub name>"})]}),"\n",(0,i.jsxs)(n.li,{children:["projectName: \u6539\u6210 ",(0,i.jsx)(n.code,{children:"/<\u4f60\u7684\u5c08\u6848\u540d\u7a31>/"})]}),"\n",(0,i.jsx)(n.li,{children:"deploymentBranch: 'gh-pages', \u4e4b\u5f8c\u90e8\u7f72\u5c31\u6703\u653e\u5728\u9019\u500b branch"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u4e0b\u70ba\u7bc4\u4f8b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"//...\n// Set the production url of your site here\nurl: 'https://a12345678.github.io',\n// Set the /<baseUrl>/ pathname under which your site is served\n// For GitHub pages deployment, it is often '/<projectName>/'\nbaseUrl: '/my-website/',\n\n// GitHub pages deployment config.\n// If you aren't using GitHub pages, you don't need these.\norganizationName: 'a12345678', // Usually your GitHub org/user name.\nprojectName: 'my-website', // Usually your repo name.\ndeploymentBranch: 'gh-pages',\n//...\n"})}),"\n",(0,i.jsx)(n.h2,{id:"github-\u5275\u5efa\u5e33\u865f\u4e26\u5c07-docusaurus-\u4e0a\u50b3\u81f3-github-repo",children:"GitHub \u5275\u5efa\u5e33\u865f\u4e26\u5c07 Docusaurus \u4e0a\u50b3\u81f3 GitHub repo"}),"\n",(0,i.jsxs)(n.p,{children:["\u4f9d\u7167",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/get-started/quickstart/creating-an-account-on-github",children:"\u5b98\u65b9\u6587\u4ef6"}),"\u5efa\u7acb\u4f60\u7684\u5e33\u865f\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u518d\u4f9d\u7167",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/repositories/creating-and-managing-repositories/quickstart-for-repositories",children:"\u5b98\u65b9\u6587\u4ef6"}),"\u5efa\u7acb\u4f60\u8981\u653e docusaurus \u7684 repository (\u7c21\u7a31 repo)\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u5c08\u6848\u7684\u6839\u76ee\u9304\u4f4d\u5740\uff0c\u8f38\u5165\u4ee5\u4e0b\u6307\u4ee4\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'echo "# my-website" >> README.md\ngit init\ngit add README.md\ngit commit -m "first commit"\ngit branch -M main\ngit remote add origin git@github.com:a12345678/my-website.git\ngit push -u origin main\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u6b64\u5c31\u628a\u6240\u6709\u5c08\u6848\u8cc7\u6599\u653e\u4e0a\u9060\u7aef repo \u4e86\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"github-actions-workflow-\u81ea\u52d5\u5b8c\u6210\u90e8\u7f72\u81f3-github-pages",children:"GitHub Actions workflow \u81ea\u52d5\u5b8c\u6210\u90e8\u7f72\u81f3 GitHub Pages"}),"\n",(0,i.jsxs)(n.p,{children:["\u6700\u5f8c\u900f\u904e ",(0,i.jsx)(n.a,{href:"https://github.com/features/actions",children:"GitHub Actions"})," \u5c07\u5c08\u6848\u90e8\u7f72\u81f3 ",(0,i.jsx)(n.code,{children:"gh-pages"})," branch\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u76f4\u63a5\u4f7f\u7528\u5b98\u7db2\u63d0\u4f9b\u7684 ",(0,i.jsx)(n.a,{href:"https://docusaurus.io/docs/deployment#triggering-deployment-with-github-actions",children:"GitHub Action workflow files"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",metastring:'title=".github/workflows/deploy.yml"',children:"name: Deploy to GitHub Pages\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n    # Review gh actions docs if you want to further define triggers, paths, etc\n    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#on\n\npermissions:\n  contents: write\n\njobs:\n  deploy:\n    name: Deploy to GitHub Pages\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-node@v3\n        with:\n          node-version: 18\n          cache: npm\n\n      - name: Install dependencies\n        run: npm ci\n      - name: Build website\n        run: npm run build\n\n      # Popular action to deploy to GitHub Pages:\n      # Docs: https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-docusaurus\n      - name: Deploy to GitHub Pages\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          # Build output to publish to the `gh-pages` branch:\n          publish_dir: ./build\n          # The following lines assign commit authorship to the official\n          # GH-Actions bot for deploys to `gh-pages` branch:\n          # https://github.com/actions/checkout/issues/13#issuecomment-724415212\n          # The GH actions bot is used by default if you didn't specify the two fields.\n          # You can swap them out with your own user credentials.\n          user_name: github-actions[bot]\n          user_email: 41898282+github-actions[bot]@users.noreply.github.com\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",metastring:'title=".github/workflows/test-deploy.yml"',children:"name: Test deployment\n\non:\n  workflow_dispatch:\n  pull_request:\n    branches:\n      - main\n    # Review gh actions docs if you want to further define triggers, paths, etc\n    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#on\n\njobs:\n  test-deploy:\n    name: Test deployment\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-node@v3\n        with:\n          node-version: 18\n          cache: npm\n\n      - name: Install dependencies\n        run: npm ci\n      - name: Test build website\n        run: npm run build\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u52a0\u5165\u9019\u5169\u500b\u6a94\u6848\u4e26 push \u5230 remote \u5f8c\uff0cGitHub \u5c31\u6703\u81ea\u52d5\u57f7\u884c\u90e8\u7f72\u6d41\u7a0b\u4e86\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5f85 GitHub Action \u57f7\u884c\u5b8c\u5f8c\uff0c\u5c31\u5b8c\u6210\u90e8\u7f72\u4e86\uff0c\u606d\u559c\uff01\uff01"})]})}function d(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>r});var i=s(7294);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);